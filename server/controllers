require( 'dotenv' ).config();
const path = require( 'path' );
const axios = require( 'axios' );

const url = path.join( 'https://app-hrsei-api.herokuapp.com/api/fec2/', process.env.CAMPUS_CODE );

module.exports.get = ( config = {}, callback ) => {
  // Default assignment for config object
  config.headers = config.headers || {};
  config.headers.Authorization = process.env.GITHUB_API_KEY;

  axios( config )
    .then( res => {
      callback( res.data );
    })
    .catch( err => {
      console.log( Object.keys( err ));
      console.log( err.message );
    });
}


var config = {
  url: 'https://app-hrsei-api.herokuapp.com/api/fec2/hr-rfp/products',
  headers: {
    Authorization: process.env.GITHUB_API_KEY,
  }
};

axios( config )
  .then( res => {
    console.log( res.data );
  })
  .catch( err => {
    console.log( Object.keys( err ));
    console.log( err.message );
    // console.log( err.config );
  });
